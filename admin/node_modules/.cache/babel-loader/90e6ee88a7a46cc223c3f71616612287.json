{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/baizt/Documentos/inventario/admin/src/pages/Login.js\";\nimport React, { Component } from 'react';\nimport api from '../callApi'; // import './styles/Login.css';\n\nimport Cookies from 'universal-cookie';\nimport Loader from '../components/Loader'; // import Form from 'react-bootstrap/Form';\n// import Button from 'react-bootstrap/Button';\n\nclass Login extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      loading: false,\n      error: null,\n      usuario: {\n        \"username\": \"\",\n        \"password\": \"\"\n      }\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        usuario: { ...this.state.usuario,\n          [e.target.name]: e.target.value\n        }\n      });\n    };\n\n    this.logUser = async e => {\n      e.preventDefault();\n      this.setState({\n        loading: true,\n        error: null\n      });\n\n      try {\n        const log = await api.login.log(this.state.usuario);\n\n        if (log.tokenStatus) {\n          const cookies = new Cookies();\n          cookies.set('adminRef', log.token, {});\n          window.location.replace(\"/home\");\n        } else {\n          console.log('Error al Loggear');\n          this.setState({\n            loading: false\n          });\n        }\n      } catch (error) {\n        console.log('Fail logUser', error);\n        this.setState({\n          loading: true,\n          error: null\n        });\n      }\n    };\n  }\n\n  componentDidMount() {\n    const cookies = new Cookies();\n    cookies.remove('adminRef');\n  }\n\n  render() {\n    if (this.state.loading) return /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }, this);\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"login\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"LogIn\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Usuario\",\n          name: \"username\",\n          onChange: this.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          placeholder: \"Contrase\\xF1a\",\n          name: \"password\",\n          onChange: this.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          variant: \"primary\",\n          type: \"submit\",\n          onClick: this.logUser,\n          children: \"Aceptar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 4\n    }, this);\n  }\n\n}\n\nexport default Login;\n/*\n\n\t\t\t\t<Form>\n\t\t\t\t\t<Form.Group controlId=\"formUser\">\n\t\t\t\t\t\t<Form.Control type=\"text\" placeholder=\"Usuario\"\n\t\t\t\t\t\t\tname=\"username\"\n\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\n\t\t\t\t\t<Form.Group controlId=\"formPass\">\n\t\t\t\t\t\t<Form.Control type=\"password\" placeholder=\"Contraseña\"\n\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\n\t\t\t\t\t<Button variant=\"primary\" type=\"submit\" onClick={this.logUser}>\n\t\t\t\t\t\tAceptar\n\t\t\t\t\t</Button>\n\t\t\t\t</Form>\n*/","map":{"version":3,"sources":["/home/baizt/Documentos/inventario/admin/src/pages/Login.js"],"names":["React","Component","api","Cookies","Loader","Login","state","loading","error","usuario","handleChange","e","setState","target","name","value","logUser","preventDefault","log","login","tokenStatus","cookies","set","token","window","location","replace","console","componentDidMount","remove","render"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport api from '../callApi';\n// import './styles/Login.css';\nimport Cookies from 'universal-cookie';\nimport Loader from '../components/Loader';\n// import Form from 'react-bootstrap/Form';\n// import Button from 'react-bootstrap/Button';\n\nclass Login extends Component {\n\n\tstate = {\n\t\tloading:false,\n\t\terror:null,\n\t\tusuario:{\n\t\t\t\"username\": \"\",\n\t\t\t\"password\": \"\"\n\t\t},\n\t}\n\t\n\tcomponentDidMount(){\n\t\tconst cookies = new Cookies();\n\t\tcookies.remove('adminRef')\n\t}\n\t\n\thandleChange = e => {\n\t\tthis.setState({\n\t\t\tusuario:{\n\t\t\t\t...this.state.usuario,\n\t\t\t\t[e.target.name]: e.target.value,\n\t\t\t}\n\t\t});\n\t};\n\n\tlogUser = async e => {\n\t\te.preventDefault();\n\t\tthis.setState({loading:true, error:null});\n\t\ttry {\n\t\t\tconst log = await api.login.log(this.state.usuario);\n\t\t\tif(log.tokenStatus){\n\t\t\t\tconst cookies = new Cookies();\n\t\t\t\tcookies.set('adminRef', log.token, {  });\n\t\t\t\twindow.location.replace(\"/home\");\n\t\t\t}else{\n\t\t\t\tconsole.log('Error al Loggear')\n\t\t\t\tthis.setState({loading:false});\n\t\t\t}\n\n\t\t} catch (error) {\n\t\t\tconsole.log('Fail logUser', error)\n\t\t\tthis.setState({loading:true, error:null});\n\t\t}\n\t}\n\n\trender(){\n\t\tif(this.state.loading)\n\t\t\treturn(\n\t\t\t\t<Loader/>\n\t\t\t)\n\t\treturn(\n\t\t\t<section className=\"login\">\n\t\t\t\t<h1>LogIn</h1>\n\t\t\t\t<div>\n\t\t\t\t\t\t<input type=\"text\" placeholder=\"Usuario\"\n\t\t\t\t\t\t\tname=\"username\"\n\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<input type=\"password\" placeholder=\"Contraseña\"\n\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t<button variant=\"primary\" type=\"submit\" onClick={this.logUser}>\n\t\t\t\t\t\tAceptar\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</section>\n\t\t)\n\t}\n}\n\nexport default Login;\n\n/*\n\n\t\t\t\t<Form>\n\t\t\t\t\t<Form.Group controlId=\"formUser\">\n\t\t\t\t\t\t<Form.Control type=\"text\" placeholder=\"Usuario\"\n\t\t\t\t\t\t\tname=\"username\"\n\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\n\t\t\t\t\t<Form.Group controlId=\"formPass\">\n\t\t\t\t\t\t<Form.Control type=\"password\" placeholder=\"Contraseña\"\n\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\n\t\t\t\t\t<Button variant=\"primary\" type=\"submit\" onClick={this.logUser}>\n\t\t\t\t\t\tAceptar\n\t\t\t\t\t</Button>\n\t\t\t\t</Form>\n*/"]},"metadata":{},"sourceType":"module"}
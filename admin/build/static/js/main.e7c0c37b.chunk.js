(this.webpackJsonpinventario=this.webpackJsonpinventario||[]).push([[0],{80:function(e,t,a){},81:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){},93:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(0),c=a.n(r),s=a(34),i=a.n(s),o=(a(80),a(26)),l=a(12),d=(a(81),a(49)),h=a(68),u=a(13);var j=function(){return Object(n.jsxs)(h.a,{bg:"dark",variant:"dark",className:"mb-4",children:[Object(n.jsx)(h.a.Brand,{children:"Admin"}),Object(n.jsxs)(d.a,{className:"mr-auto",children:[Object(n.jsx)(d.a.Link,{href:"/home",children:"Home"}),Object(n.jsx)(d.a.Link,{href:"/sucursales",children:"Sucursales"}),Object(n.jsx)(d.a.Link,{href:"/productos",children:"Productos"})]}),Object(n.jsx)(u.a,{variant:"danger",as:o.b,to:"/",children:"Cerrar Sesi\xf3n"})]})},b=a(71);var m=function(e){return Object(n.jsxs)(b.a,{children:[Object(n.jsx)(j,{}),e.children]})},p=a(27),x=a(22),O=a(8),f=a.n(O),g=a(11),v=a(18),y=a(19),C=a(21),k=a(20),w=a(47),I="http://localhost:8001";function S(e){return N.apply(this,arguments)}function N(){return(N=Object(g.a)(f.a.mark((function e(t){var a,n,r,c,s,i=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>1&&void 0!==i[1]?i[1]:{},n=i.length>2?i[2]:void 0,a.headers={"Content-Type":"application/json",Accept:"application/json","access-token":_()},r=I+t,e.next=6,fetch(r,a);case 6:return c=e.sent,e.next=9,c.json();case 9:if((s=e.sent).tokenStatus){e.next=13;break}return window.location.replace("/login"),e.abrupt("return",!1);case 13:if(!n){e.next=15;break}return e.abrupt("return",s.data[0]);case 15:return e.abrupt("return",s.data);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return(new w.a).get("adminRef")}var A={login:{log:function(e){return console.log("api.login.log",e),S("/auth",{method:"POST",body:JSON.stringify(e)})}},branches:{getAll:function(){return S("/branches")},get:function(e){return S("/branches/".concat(e),{},!0)},update:function(e){return S("/branches/".concat(e.branch_id),{method:"PATCH",body:JSON.stringify(e)})},set:function(e){return S("/branches",{method:"POST",body:JSON.stringify(e)})},drop:function(e){return S("/branches/".concat(e),{method:"DELETE"})}},branchItems:{getByBranch:function(e){return S("/branchitems/".concat(e))},set:function(e){return S("/branchItems",{method:"PATCH",body:JSON.stringify(e)})},drop:function(e){return S("/branchItems/",{method:"DELETE",body:JSON.stringify(e)})}},items:{getAll:function(){return S("/items")},get:function(e){return S("/items/".concat(e),{},!0)},update:function(e){return S("/items/".concat(e.id_item),{method:"PATCH",body:JSON.stringify(e)})},set:function(e){return S("/items",{method:"POST",body:JSON.stringify(e)})},drop:function(e){return S("/items/".concat(e),{method:"DELETE"})}}},B=(a(89),a(72));var P=function(){return Object(n.jsx)("div",{className:"loaderContainer",children:Object(n.jsx)(B.a,{animation:"border"})})},D=a(10),E=a(7),F=a(29),L=a(28),T=a(45);var G=function(e){return"undefined"===typeof e.items?Object(n.jsx)(P,{}):Object(n.jsx)("div",{children:Object(n.jsxs)(F.a,{className:"mt-4 mb-4",children:[Object(n.jsx)(F.a.Header,{children:Object(n.jsx)(F.a.Title,{children:e.branch.name})}),Object(n.jsx)(F.a.Body,{children:Object(n.jsxs)(L.a,{className:"list-group-flush",children:[e.items.length>0?Object(n.jsx)(T.a,{children:Object(n.jsxs)(D.a,{children:[Object(n.jsx)(E.a,{children:"C\xf3digo"}),Object(n.jsx)(E.a,{children:"Producto"}),Object(n.jsx)(E.a,{children:"Existencias"}),Object(n.jsx)(E.a,{children:"Precio"})]})}):"",e.items.length>0?e.items.map((function(t){return Object(n.jsx)(T.a,{children:Object(n.jsxs)(D.a,{children:[Object(n.jsx)(E.a,{children:t.barcode}),Object(n.jsx)(E.a,{children:t.item}),Object(n.jsx)(E.a,{children:t.lot}),Object(n.jsxs)(E.a,{children:["$",t.price]})]})},"".concat(e.branch.id).concat(t.id_item))})):Object(n.jsx)(F.a.Text,{children:"Sin Productos"})]})}),Object(n.jsx)(F.a.Footer,{className:"text-muted",children:e.branch.address})]})})},J=function(e){Object(C.a)(a,e);var t=Object(k.a)(a);function a(){var e;Object(v.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={branches:!1,items:!1},e.fetchData=function(){var t=Object(g.a)(f.a.mark((function t(a){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,A.branches.getAll();case 3:n=t.sent,console.log("branches",n),e.setState({branches:n}),e.state.branches.map((function(t){e.getItemsBranch(t.id)})),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log("Fail getAllBranches",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}(),e.getItemsBranch=function(){var t=Object(g.a)(f.a.mark((function t(a){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,A.branchItems.getByBranch(a);case 3:n=t.sent,console.log("items",n),e.setState({items:Object(x.a)(Object(x.a)({},e.state.items),{},Object(p.a)({},a,n))}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("Fail getAllItemsBranch",t.t0),e.setState({items:Object(x.a)(Object(x.a)({},e.state.items),{},Object(p.a)({},a,[]))});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=this;return this.state.branches?Object(n.jsx)("div",{children:Object(n.jsx)(D.a,{children:this.state.branches.map((function(t,a){return Object(n.jsx)(E.a,{lg:"6",children:Object(n.jsx)(G,{branch:t,items:e.state.items[t.id]})},t.id)}))})}):Object(n.jsx)(P,{})}}]),a}(r.Component),U=(a(90),a(9)),M=function(e){Object(C.a)(a,e);var t=Object(k.a)(a);function a(){var e;Object(v.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={loading:!1,error:null,usuario:{username:"",password:""}},e.handleChange=function(t){e.setState({usuario:Object(x.a)(Object(x.a)({},e.state.usuario),{},Object(p.a)({},t.target.name,t.target.value))})},e.logUser=function(){var t=Object(g.a)(f.a.mark((function t(a){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),e.setState({loading:!0,error:null}),t.prev=2,t.next=5,A.login.log(e.state.usuario);case 5:(n=t.sent).tokenStatus?((new w.a).set("adminRef",n.token,{}),window.location.replace("/home")):(console.log("Error al Loggear"),e.setState({loading:!1})),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),console.log("Fail logUser",t.t0),e.setState({loading:!0,error:null});case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){(new w.a).remove("adminRef")}},{key:"render",value:function(){return this.state.loading?Object(n.jsx)(P,{}):Object(n.jsxs)("section",{className:"login mt-4",children:[Object(n.jsx)("h1",{children:"Iniciar Sesi\xf3n"}),Object(n.jsxs)(U.a,{children:[Object(n.jsx)(U.a.Group,{controlId:"formUser",children:Object(n.jsx)(U.a.Control,{type:"text",placeholder:"Usuario",name:"username",onChange:this.handleChange})}),Object(n.jsx)(U.a.Group,{controlId:"formPass",children:Object(n.jsx)(U.a.Control,{type:"password",placeholder:"Contrase\xf1a",name:"password",onChange:this.handleChange})}),Object(n.jsx)(u.a,{variant:"primary",type:"submit",onClick:this.logUser,children:"Ingresar"})]})]})}}]),a}(r.Component),H=function(e){Object(C.a)(a,e);var t=Object(k.a)(a);function a(){var e;Object(v.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={item:!1,nuevo_item:"undefined"==typeof e.props.match.params.itemId||"agregar"==e.props.match.params.itemId},e.fetch=function(){var t=Object(g.a)(f.a.mark((function t(a){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,A.items.get(e.props.match.params.itemId);case 3:n=t.sent,console.log("item",n),e.setState({item:n}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("Fail getItem",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),e.handleChange=function(t){e.setState({item:Object(x.a)(Object(x.a)({},e.state.item),{},Object(p.a)({},t.target.name,t.target.value))})},e.handleSave=function(){var t=Object(g.a)(f.a.mark((function t(a){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n={item_name:e.state.item.name,item_barcode:e.state.item.barcode,item_price:e.state.item.price},t.prev=1,!e.state.nuevo_item){t.next=8;break}return t.next=5,A.items.set(n);case 5:console.log("item Setted"),t.next=12;break;case 8:return n.item_id=e.state.item.id,t.next=11,A.items.update(n);case 11:console.log("item Updated");case 12:window.location.replace("/productos"),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1),console.log("Fail updateItem",t.t0);case 18:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e){return t.apply(this,arguments)}}(),e.handleDrop=function(){var t=Object(g.a)(f.a.mark((function t(a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,A.items.drop(e.state.item.id);case 3:console.log("item Deleted"),window.location.replace("/productos"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("Fail deleteItem",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){console.log(this.state),this.state.nuevo_item?this.setState({item:{name:"",barcode:"",price:""}}):this.fetch()}},{key:"render",value:function(){return this.state.item?Object(n.jsxs)("section",{children:[Object(n.jsx)("h1",{children:this.state.nuevo_item?"Nuevo Producto":this.state.item.name}),Object(n.jsxs)(U.a,{children:[Object(n.jsxs)(U.a.Group,{as:D.a,controlId:"itemName",children:[Object(n.jsx)(U.a.Label,{column:!0,sm:"2",lg:"1",children:"Producto"}),Object(n.jsx)(E.a,{sm:"10",lg:"11",children:Object(n.jsx)(U.a.Control,{type:"text",placeholder:"Nombre del Producto",name:"name",value:this.state.item.name,onChange:this.handleChange})})]}),Object(n.jsxs)(U.a.Group,{as:D.a,controlId:"itemCode",children:[Object(n.jsx)(U.a.Label,{column:!0,sm:"2",lg:"1",children:"C\xf3digo"}),Object(n.jsx)(E.a,{sm:"10",lg:"11",children:Object(n.jsx)(U.a.Control,{type:"number",placeholder:"C\xf3digo de Barras",name:"barcode",value:this.state.item.barcode,onChange:this.handleChange})})]}),Object(n.jsxs)(U.a.Group,{as:D.a,controlId:"itemPrice",children:[Object(n.jsx)(U.a.Label,{column:!0,sm:"2",lg:"1",children:"Precio"}),Object(n.jsx)(E.a,{sm:"10",lg:"11",children:Object(n.jsx)(U.a.Control,{type:"number",step:"0.01",placeholder:"Precio al P\xfablico",name:"price",value:this.state.item.price,onChange:this.handleChange})})]}),Object(n.jsxs)(D.a,{children:[Object(n.jsx)(E.a,{children:Object(n.jsx)(u.a,{variant:"primary",type:"button",onClick:this.handleSave,children:"Guardar"})}),this.state.nuevo_item?"":Object(n.jsx)(E.a,{children:Object(n.jsx)(u.a,{variant:"danger",type:"button",onClick:this.handleDrop,children:"Eliminar"})})]})]})]}):Object(n.jsx)(P,{})}}]),a}(r.Component),R=function(e){Object(C.a)(a,e);var t=Object(k.a)(a);function a(){var e;Object(v.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={items:!1},e.fetch=function(){var t=Object(g.a)(f.a.mark((function t(a){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,A.items.getAll();case 3:n=t.sent,console.log("items",n),e.setState({items:n}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("Fail getAllItems",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){this.fetch()}},{key:"render",value:function(){return this.state.items?Object(n.jsxs)("section",{children:[Object(n.jsx)("h1",{children:"Productos"}),Object(n.jsxs)(L.a,{defaultActiveKey:"0",children:[Object(n.jsx)(L.a.Item,{variant:"primary",children:Object(n.jsxs)(D.a,{children:[Object(n.jsx)(E.a,{children:"Nombre"}),Object(n.jsx)(E.a,{children:"C\xf3digo de Barras"}),Object(n.jsx)(E.a,{children:"Precio"})]})}),this.state.items.map((function(e){return Object(n.jsx)(L.a.Item,{action:!0,as:o.b,to:"/productos/".concat(e.id),children:Object(n.jsxs)(D.a,{children:[Object(n.jsx)(E.a,{children:e.name}),Object(n.jsx)(E.a,{children:e.barcode}),Object(n.jsxs)(E.a,{children:["$",e.price]})]})},e.id)}))]}),Object(n.jsx)(u.a,{variant:"success",type:"button",as:o.b,to:"/productos/agregar",className:"mt-4",children:"Agregar Producto"})]}):Object(n.jsx)(P,{})}}]),a}(r.Component),$=a(36);var K=function(e){return Object(n.jsxs)(F.a,{as:U.a,className:"mt-4 mb-4",children:[Object(n.jsx)(F.a.Header,{children:Object(n.jsxs)(D.a,{children:[Object(n.jsx)(E.a,{xs:"9",children:Object(n.jsx)(U.a.Control,{type:"text",placeholder:"Nombre de Sucursal",value:e.branch.name,name:"name","data-id":e.branch.id,onChange:e.handleChange})}),Object(n.jsx)(E.a,{xs:"3",children:Object(n.jsx)(u.a,{variant:"danger",type:"button",onClick:e.handleDrop,"data-id":e.branch.id,"data-index":e.index,children:"X"})})]})}),Object(n.jsxs)(F.a.Body,{children:[Object(n.jsx)(U.a.Control,{type:"text",placeholder:"Direcci\xf3n de Sucursal",value:e.branch.address,name:"address","data-id":e.branch.id,onChange:e.handleChange}),Object(n.jsx)(u.a,{variant:"primary",className:"mt-3",as:o.b,to:"/sucursales/".concat(e.branch.id),children:"Administrar Productos"})]})]})},X=function(e){Object(C.a)(a,e);var t=Object(k.a)(a);function a(){var e;Object(v.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={branches:!1},e.fetch=function(){var t=Object(g.a)(f.a.mark((function t(a){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,A.branches.getAll();case 3:n=t.sent,console.log("branches",n),e.setState({branches:n}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("Fail getAllBranches",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),e.handleChange=function(t){var a=e.state.branches.filter((function(e,a){return e.id==t.target.dataset.id&&a,+e.id===+t.target.dataset.id}))[0];a[t.target.name]=t.target.value,e.setState({branches:Object($.a)(e.state.branches)});var n={branch_address:a.address,branch_id:a.id,branch_name:a.name};console.log("Editado",a),e.save(n)},e.save=function(){var e=Object(g.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.branches.update(t);case 3:console.log("Branch Updated"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("Fail getAllBranches",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),e.dropBranch=function(){var t=Object(g.a)(f.a.mark((function t(a){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,A.branches.drop(a.target.dataset.id);case 3:(n=e.state.branches).splice(a.target.dataset.index,1),e.setState({branches:Object($.a)(n)}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("Fail deleteBranch",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){this.fetch()}},{key:"render",value:function(){var e=this;return this.state.branches?Object(n.jsxs)("section",{children:[Object(n.jsx)("h1",{children:"Sucursales"}),Object(n.jsx)(D.a,{children:this.state.branches.map((function(t,a){return Object(n.jsx)(E.a,{sm:"6",md:"4",children:Object(n.jsx)(K,{branch:t,index:a,handleChange:e.handleChange,handleDrop:e.dropBranch})},t.id)}))}),Object(n.jsx)(u.a,{variant:"success",as:o.b,to:"sucursales/agregar",children:"Agregar Sucursal"})]}):Object(n.jsx)(P,{})}}]),a}(r.Component),q=function(e){Object(C.a)(a,e);var t=Object(k.a)(a);function a(){var e;Object(v.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={branch:{name:"",address:""}},e.handleChange=function(t){e.setState({branch:Object(x.a)(Object(x.a)({},e.state.branch),{},Object(p.a)({},t.target.name,t.target.value))})},e.handleSave=function(){var t=Object(g.a)(f.a.mark((function t(a){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={branch_name:e.state.branch.name,branch_address:e.state.branch.address},t.prev=1,t.next=4,A.branches.set(n);case 4:console.log("branch Setted"),window.location.replace("/sucursales"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log("Fail setBranch",t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(y.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("section",{children:[Object(n.jsx)("h1",{children:"Nueva Sucursal"}),Object(n.jsxs)(U.a,{as:D.a,children:[Object(n.jsx)(E.a,{sm:"5",children:Object(n.jsxs)(U.a.Group,{as:D.a,controlId:"branchName",children:[Object(n.jsx)(U.a.Label,{column:!0,md:"2",children:"Nombre"}),Object(n.jsx)(E.a,{md:"10",children:Object(n.jsx)(U.a.Control,{type:"text",placeholder:"Nombre de la Sucursal",name:"name",value:this.state.branch.name,onChange:this.handleChange})})]})}),Object(n.jsx)(E.a,{sm:"5",children:Object(n.jsxs)(U.a.Group,{as:D.a,controlId:"branchAddress",children:[Object(n.jsx)(U.a.Label,{column:!0,md:"2",children:"Direcci\xf3n"}),Object(n.jsx)(E.a,{md:"10",children:Object(n.jsx)(U.a.Control,{type:"text",placeholder:"Direcci\xf3n de la Sucursal",name:"address",value:this.state.branch.address,onChange:this.handleChange})})]})}),Object(n.jsx)(E.a,{sm:"2",children:Object(n.jsx)(u.a,{variant:"primary",type:"button",onClick:this.handleSave,children:"Guardar"})})]})]})}}]),a}(c.a.Component),z=a(74),Q=a(62),V=a(73),W=function(e){Object(C.a)(a,e);var t=Object(k.a)(a);function a(){var e;Object(v.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={branch:!1,items:!1,allItems:!1},e.fetchData=function(){var t=Object(g.a)(f.a.mark((function t(a){var n,r,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e.props.match.params.branchId),t.prev=1,t.next=4,A.branches.get(e.props.match.params.branchId);case 4:return n=t.sent,t.next=7,A.branchItems.getByBranch(e.props.match.params.branchId);case 7:return r=t.sent,t.next=10,A.items.getAll();case 10:c=t.sent,console.log("branch",n),console.log("items",r),console.log("allItems",c),e.setState({branch:n,items:r,allItems:c}),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(1),console.log("fail getBranch",t.t0);case 20:case"end":return t.stop()}}),t,null,[[1,17]])})));return function(e){return t.apply(this,arguments)}}(),e.handleChange=function(t){var a=e.state.items.filter((function(e,a){return+e.id_item===+t.target.dataset.id}))[0];console.log("edited_item",a),a[t.target.name]=t.target.value,e.setState({items:Object($.a)(e.state.items)});var n={item_id:a.id_item,branch_id:e.state.branch.id,num:a.lot};console.log("send_item_api",n),e.save(n)},e.save=function(){var e=Object(g.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.branchItems.set(t);case 3:console.log("Item Updated"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("Fail setBranchItem",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),e.addItem=function(t){e.setState({items:[].concat(Object($.a)(e.state.items),[{barcode:"",item:"",price:""}])})},e.addInfoItem=function(t){var a=e.state.items;a.pop(),console.log("temp_items",a);var n=e.state.allItems[t.target.dataset.index];e.setState({items:[].concat(Object($.a)(a),[{id_item:n.id,barcode:n.barcode,item:n.name,price:n.price}])})},e.dropItem=function(){var t=Object(g.a)(f.a.mark((function t(a){var n,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n={item_id:a.target.dataset.id,branch_id:e.state.branch.id},t.next=4,A.branchItems.drop(n);case 4:(r=e.state.items).splice(a.target.dataset.index,1),e.setState({items:Object($.a)(r)}),console.log("Item Deleted",n),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log("Fail deleteBranchItem",t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"itemExistInBranch",value:function(e){return this.state.items.filter((function(t){return+t.id_item===+e})).length>0}},{key:"render",value:function(){var e=this;return this.state.branch&&this.state.items?Object(n.jsxs)("div",{children:[Object(n.jsxs)(L.a,{defaultActiveKey:"0",children:[Object(n.jsx)(L.a.Item,{variant:"primary",children:Object(n.jsxs)(D.a,{children:[Object(n.jsx)(E.a,{children:"Nombre"}),Object(n.jsx)(E.a,{children:"C\xf3digo de Barras"}),Object(n.jsx)(E.a,{children:"Cantidad en Sucursal"}),Object(n.jsx)(E.a,{children:"Precio"})]})}),this.state.items.map((function(t,a){return""===t.item?Object(n.jsx)(L.a.Item,{action:!0,children:Object(n.jsx)(D.a,{children:Object(n.jsx)(E.a,{children:Object(n.jsx)(V.a,{id:"dropdown-item-button",title:"Seleccione el Nuevo Producto",children:e.state.allItems.map((function(t,a){return e.itemExistInBranch(t.id)?"":Object(n.jsx)(Q.a.Item,{as:"button",onClick:e.addInfoItem,"data-index":a,children:t.name})}))})})})},t.id):Object(n.jsx)(L.a.Item,{action:!0,children:Object(n.jsxs)(D.a,{children:[Object(n.jsx)(E.a,{children:t.item}),Object(n.jsx)(E.a,{children:t.barcode}),Object(n.jsx)(E.a,{children:Object(n.jsx)(U.a.Control,{type:"text",placeholder:"Cantidad en Sucursal",value:t.lot,name:"lot","data-id":t.id_item,onChange:e.handleChange})}),Object(n.jsxs)(E.a,{children:["$",t.price]}),Object(n.jsx)(E.a,{children:Object(n.jsx)(u.a,{variant:"danger",type:"button",onClick:e.dropItem,"data-id":t.id_item,"data-index":a,children:"X"})})]})},t.id)}))]}),this.state.items.length<this.state.allItems.length?Object(n.jsx)(u.a,{variant:"success",type:"button",onClick:this.addItem,className:"mt-4",children:"Agregar Producto"}):Object(n.jsx)(z.a,{variant:"info",className:"mt-4",children:"No se pueden agregar m\xe1s productos, ya que esta sucursal cuenta con todos los productos disponibles"})]}):Object(n.jsx)(P,{})}}]),a}(r.Component);a(92);var Y=function(){return Object(n.jsx)(o.a,{children:Object(n.jsxs)(l.c,{children:[Object(n.jsx)(l.a,{exact:!0,path:"/",component:M}),Object(n.jsx)(l.a,{exact:!0,path:"/login",component:M}),Object(n.jsxs)(m,{children:[Object(n.jsx)(l.a,{exact:!0,path:"/home",component:J}),Object(n.jsx)(l.a,{exact:!0,path:"/productos/agregar(\\\\w+)",component:H}),Object(n.jsx)(l.a,{exact:!0,path:"/productos/:itemId",component:H}),Object(n.jsx)(l.a,{exact:!0,path:"/productos",component:R}),Object(n.jsx)(l.a,{exact:!0,path:"/sucursales/agregar(\\\\w+)",component:q}),Object(n.jsx)(l.a,{exact:!0,path:"/sucursales/:branchId",component:W}),Object(n.jsx)(l.a,{exact:!0,path:"/sucursales",component:X})]})]})})};i.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(Y,{})}),document.getElementById("root"))}},[[93,1,2]]]);
//# sourceMappingURL=main.e7c0c37b.chunk.js.map